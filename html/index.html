<!doctype html> 
<html lang="pl"> 
<head> 
<meta charset="utf-8" /> 
<title>Mapa tras rowerowych â€” prosty przykÅ‚ad</title> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" href="../css/main.css"> 
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/> 
<script src="https://kit.fontawesome.com/8164e1f9c8.js" crossorigin="anonymous"></script> 
</head> 
<body> 
<header> 
<div> 
<div id="logo"> 
<a href="./index.html"><img src="" alt="logo"></a> 
</div> 
<div><a href="./index.html">nazwa apliakcji</a></div> 
</div> 
<nav> 
<ul> 
<li><a href="#">CHATS</a></li> 
<li><a href="#">CONTACT</a></li> 
</ul> 
</nav> 
<div id="settings"> 
<i class="fa-solid fa-gear"></i> 
</div> 
</header> 
<main> 
<section> 
<div> 
<h1>ZNAJDÅ¹ ÅšCIEÅ»KI ROWEROWE!!!</h1> 
<ul> 
<li>Wyszukuj i odkrywaj najlepsze trasy rowerowe w Twojej okolicy!</li> 
<li>SprawdÅº, gdzie moÅ¼esz wybraÄ‡ siÄ™ na rower â€“ w mieÅ›cie, lesie czy nad rzekÄ…!</li> 
<li>PrzesuÅ„ mapÄ™, powiÄ™ksz i znajdÅº idealnÄ… trasÄ™ na dzisiejszÄ… przejaÅ¼dÅ¼kÄ™</li> 
</ul> 
</div> 
<div id="map"></div> 
</section> 
<section> 
<div>123 </div> 
</section> 
</main> 
<!-- <section> 
<strong>Mapa tras rowerowych â€” PÅ‚ock (prosty)</strong> 
<div class="controls"> 
<label>Wczytaj GPX: <input id="gpxfile" type="file" accept=".gpx" /></label> 
<button id="toggleCyclo">PrzeÅ‚Ä…cz CyclOSM</button> 
</div> 
</section> --> 
<!-- Leaflet JS --> 
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script> 
<!-- togeojson: konwerter GPX -> GeoJSON --> 
<script src="https://unpkg.com/@mapbox/togeojson@0.16.0/dist/togeojson.js"></script> 
<script> 
// 1) UtwÃ³rz mapÄ™ i ustaw widok na PÅ‚ock 
const map = L.map('map').setView([52.546, 19.700], 12); 

// 2) Dwie warstwy: zwykÅ‚e OSM i CyclOSM (mapa rowerowa) 
const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap contributors' }).addTo(map); 
const cyclo = L.tileLayer('https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png', { attribution: '&copy; CyclOSM & OpenStreetMap contributors' }); 

document.getElementById('toggleCyclo').onclick = () => { 
if (map.hasLayer(cyclo)) { map.removeLayer(cyclo); osm.addTo(map); } 
else { map.removeLayer(osm); cyclo.addTo(map); } 
}; 
            <div><a href="./index.html">SUMP â€” PÅ‚ock</a></div>
        </div>

        <nav>
            <ul>
                <li><a href="./GrupaRowerowa.html">CHATS</a></li>
                <li><a href="./Kontakty.html">CONTACT</a></li>
            </ul>
        </nav>

// 3) Funkcja rysujÄ…ca GeoJSON na mapie 
let gpxLayer = L.layerGroup().addTo(map); 
function drawGeoJSON(geojson) { 
// wyczyÅ›Ä‡ poprzednie 
gpxLayer.clearLayers(); 
// jeÅ¼eli to trasa (LineString), narysuj polyliniÄ™ i ustaw widok 
L.geoJSON(geojson, { 
onEachFeature: function (feature, layer) { 
// popup z nazwÄ… jeÅ›li jest 
if (feature.properties && feature.properties.name) { layer.bindPopup(feature.properties.name); } 
}, 
style: function(feature) { 
if (feature.geometry && feature.geometry.type === 'LineString') { return { color: '#ff3333', weight: 4 }; } 
return {}; 
}, 
pointToLayer: function (feature, latlng) { return L.marker(latlng); } 
}).addTo(gpxLayer); 
// dopasuj zoom do danych 
try { map.fitBounds(gpxLayer.getBounds(), { padding:[20,20] }); } catch(e){ /* brak bounds */ } 
} 

// 4) ObsÅ‚uga wczytywania pliku GPX 
document.getElementById('gpxfile').addEventListener('change', function(evt){ 
const f = evt.target.files[0]; 
if (!f) return; 
const reader = new FileReader(); 
reader.onload = function(e) { 
const gpxText = e.target.result; 
// parsujemy GPX na DOM, a potem konwertujemy do GeoJSON (togeojson) 
const parser = new DOMParser(); 
const xml = parser.parseFromString(gpxText, "application/xml"); 
const geojson = toGeoJSON.gpx(xml); 
if (!geojson || !geojson.features || geojson.features.length === 0) { 
alert('Plik GPX nie zawiera Å›ladu.'); 
return; 
} 
drawGeoJSON(geojson); 
// (opcjonalnie) tutaj moÅ¼esz wysÅ‚aÄ‡ GPX na serwer via fetch('/api/gpx', {method:'POST', body: formData}) 
}; 
reader.readAsText(f); 
}); 

// 5) ZaÅ‚aduj - opcjonalnie - plik pois.geojson jeÅ›li chcesz dodaÄ‡ punkty odpoczynku 
// JeÅ›li w tym samym folderze umieszczasz pois.geojson, odkomentuj poniÅ¼szy kod: 
fetch('pois.geojson').then(r => { 
if (!r.ok) return; 
return r.json(); 
}).then(data => { 
if (!data) return; 
L.geoJSON(data, { 
pointToLayer: (feature, latlng) => L.marker(latlng), 
onEachFeature: (feature, layer) => { 
layer.bindPopup((feature.properties && feature.properties.name) || 'Miejsce odpoczynku'); 
} 
}).addTo(map); 
}).catch(()=>{/* brak pois.geojson - ok */}); 
</script> 

<!-- Przyciski otwierajÄ…ce panele --> 
<button id="toggleLeft" class="slide-btn left">Alerty â˜°</button> 
<button id="toggleRight" class="slide-btn right">â˜° Wydarzenia</button> 

<!-- Panele wysuwane --> 
<div id="leftPanel" class="side-panel left"> 
  <h2>Alerty tras rowerowych ğŸš¨</h2>
  <div id="obramowanie">
  <div class="alert">
    <h3>ğŸš§ ZamkniÄ™cie Å›cieÅ¼ki nad WisÅ‚Ä…</h3>
    <p>Odcinek miÄ™dzy Mostem LegionÃ³w a Zalewem SobÃ³tka jest nieczynny do 22 paÅºdziernika z powodu remontu waÅ‚Ã³w.</p>
  </div>

  <div class="alert">
    <h3>ğŸŒ² Powalone drzewa w lesie Brwilno</h3>
    <p>Utrudniony przejazd szlakiem leÅ›nym po ostatnich wichurach. Zalecany objazd przez leÅ›niczÃ³wkÄ™ DzierzÄ…zna.</p>
  </div>
    <div>
      <button id="toggleLeft" class="slide-btn left">â˜° Lewy panel</button>
      <button id="toggleRight" class="slide-btn right">â˜° Prawy panel</button>
    </div>

  <main>
    <section>
      <div>
        <h1>ZNAJDÅ¹ ÅšCIEÅ»KI ROWEROWE!!!</h1>
        <ul>
          <li>Wyszukuj i odkrywaj najlepsze trasy rowerowe w Twojej okolicy!</li>
          <li>SprawdÅº, gdzie moÅ¼esz wybraÄ‡ siÄ™ na rower â€“ w mieÅ›cie, lesie czy nad rzekÄ…!</li>
          <li>PrzesuÅ„ mapÄ™, powiÄ™ksz i znajdÅº idealnÄ… trasÄ™ na dzisiejszÄ… przejaÅ¼dÅ¼kÄ™</li>
        </ul>
      </div>
      <div id="map"></div>

      <div id="panel">
          <div id="con">
            <h2 id="h2">Filtry tras </h2>
            <span id="colapse">â€”</span>
          
          </div>

        <div id="clear">
          
          <label><input type="checkbox" id="filter-family"/> Trasy rodzinne</label>
          <br>
          <label><input type="checkbox" id="filter-sport"/> Trasy sportowe</label>

          <hr/>
          <br>

          <label><input type="checkbox" id="show-pois" checked/> PokaÅ¼ miejsca odpoczynku</label>
          <br>
          <label><input type="checkbox" id="show-stations" checked/> PokaÅ¼ stacje roweru miejskiego</label>
        </div>
      </div>
    </section>
<!-- 
    <div id="container">
      <div id="panel" >
        <div>
          <h4>Filtry tras</h4>
          
          <label><input type="checkbox" id="filter-family"/> Trasy rodzinne</label>
          <label><input type="checkbox" id="filter-sport"/> Trasy sportowe</label>

          <hr/>

          <label><input type="checkbox" id="show-pois" checked/> PokaÅ¼ miejsca odpoczynku</label>
          <label><input type="checkbox" id="show-stations" checked/> PokaÅ¼ stacje roweru miejskiego</label>
        </div>
      </div>
    </div> -->

  </main>

  <div class="alert">
    <h3>ğŸ’§ Podtopienia na trasie nad WisÅ‚Ä…</h3>
    <p>Po intensywnych opadach Å›cieÅ¼ka rowerowa przy ulicy GrabÃ³wka jest miejscami zalana.</p>
  </div>

  <div class="alert">
    <h3>ğŸ¦º Prace drogowe w centrum miasta</h3>
    <p>Od 18 do 25 paÅºdziernika zamkniÄ™ty przejazd Å›cieÅ¼kÄ… przy ul. TysiÄ…clecia z powodu remontu asfaltu.</p>
  </div>

  <div class="alert">
    <h3>ğŸ”¥ Ograniczony dostÄ™p do rezerwatu Soczewka</h3>
    <p>Wprowadzono zakaz wjazdu rowerÃ³w w czÄ™Å›Ä‡ rezerwatu z powodu wysokiego ryzyka poÅ¼arowego.</p>
  </div>
  </div>
</div> 

<div id="rightPanel" class="side-panel right"> 
<h2>Wydarzenia</h2> 
<p></p> 
</div> 

<script> 
const leftPanel = document.getElementById('leftPanel'); 
const rightPanel = document.getElementById('rightPanel'); 
const toggleLeft = document.getElementById('toggleLeft'); 
const toggleRight = document.getElementById('toggleRight'); 

toggleLeft.onclick = () => { 
leftPanel.classList.toggle('active'); 
toggleLeft.style.transform = leftPanel.classList.contains('active') ? 'translateX(350px)' : 'translateX(0)'; 
}; 

toggleRight.onclick = () => { 
rightPanel.classList.toggle('active'); 
toggleRight.style.transform = rightPanel.classList.contains('active') ? 'translateX(-350px)' : 'translateX(0)'; 
}; 
</script> 
</body> 

  <!-- Leaflet + skrypt mapy -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <script src="https://unpkg.com/@mapbox/togeojson@0.16.0/dist/togeojson.js"></script>
  <script src="../scripts/script.js"></script>



<!-- Przyciski otwierajÄ…ce panele -->


<!-- Panele wysuwane -->
<div id="leftPanel" class="side-panel left">
  <h2>Lewa zawartoÅ›Ä‡</h2>
  <p>Tu moÅ¼esz dodaÄ‡ np. listÄ™ tras rowerowych lub ustawienia.</p>
</div>

<div id="rightPanel" class="side-panel right">
  <h2>Prawa zawartoÅ›Ä‡</h2>
  <p>Tu moÅ¼esz dodaÄ‡ np. punkty POI, statystyki itp.</p>
</div>

<script>
const leftPanel = document.getElementById('leftPanel');
const rightPanel = document.getElementById('rightPanel');
const toggleLeft = document.getElementById('toggleLeft');
const toggleRight = document.getElementById('toggleRight');

toggleLeft.onclick = () => {
  leftPanel.classList.toggle('active');
  toggleLeft.style.transform = leftPanel.classList.contains('active') ? 'translateX(300px)' : 'translateX(0)';
};

toggleRight.onclick = () => {
  rightPanel.classList.toggle('active');
  toggleRight.style.transform = rightPanel.classList.contains('active') ? 'translateX(-300px)' : 'translateX(0)';
};




    


</script>

</body>

</html>

